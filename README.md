# 同窗树

## 目录

* scrapy_school：爬虫获取信息
* data：数据存储路径

## 数据需求

* 需要省份地区的学校信息(构建可选框)

## 前端需求

* 个人信息：

	* 姓名、头像(api)、性别(api)、年龄、现居地址(api)
	* 建议二次设置名字，用真实姓名。

* 学校：

	* 小学、初中、高中、大学

* 申请权限：

	* 是否同意交换联系方式

* 接口：

	* 提交请求：携带一个 user_id 的标准，用户的凭证，有对应的 api
	* 返回请求(筛选条件)：用户列表，以及用户的学校信息。
	* 可以限制每天只能匹配20个。

* 方式设置：

	* 卡片式的选择，上下时候切换用户，左右是喜欢。

* 举报功能

	* 提供举报功能、一些常见的举报，骚扰，名称，发广告。

* 筛选功能：

	* 匹配不同阶段学校。
	* 匹配现居地址。
	* 年龄范围、性别
	* 选择返回的数量范围

	

## 后端需求
> id, user_id, province_namev, city, school_name, sex, age
> 后端的话，主要就是 sql 分组，查询性能优化的话，目前没有好想法。

* Flask 构建后台

* 目前数据量小的话，感觉通过 group by 分组就可以了，直接分组四次。

* Mysql

	* 可以建立四个不同阶段学校的表(感觉不需要分四个表)
	* 将 user_id 和 学校 建立联合索引
	* 通过 user_id 构建四个表的联合索引

* 通过计算，学校之间的相似度，判断两人之间的相似度，给不同阶段学校的权重比不同。

	

	